<body>
<script>
  var sides, amount, number;
  var amountText, sidesText;
  
  function dice() {
    
    amountText = "How many dice will you roll?";
    sidesText = "How many sides will the dice have?";
    
    function amount() {
      console.log("amount");
      amount = parseInt(prompt(amountText, 1), 10);
      console.log(amount);
      if (Number.isNaN(amount)) {
        amountText = "Improper value given. Try again.";
        amount();
      };
      console.log("to sides");
      sides();
    };
    
    function sides() {
      console.log("sides");
      sides = parseInt(prompt(sidesText, 6), 10);
      console.log(sides);
      if (Number.isNaN(sides)) {
        sidesText = "Improper value given. Try again.";
        sides();
      };
      console.log("to roll");
      roll();
    };
    
    function roll() {
      console.log("roll");
      for(var i = 0; i < amount; i++){
        number = number + Math.floor((Math.random() * sides) + 1);
      };
      console.log("done for");
      if (Number.isNaN(number)) {
        alert("An error occurred. Please try again.");
        dice();
      };
      console.log("done");
      alert(number);
    };
    
    console.log("ran dice");
    amount();
  
  };
  
  dice();
  
</script>
</body>
